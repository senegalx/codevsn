---
import Blogs from "@components/Blogs.astro";
import PageHeader from "@components/PageHeader.astro";
import Shape from "@components/Shape.astro";
import BlogCategories from "@components/blog/BlogCategories.astro";
import Base from "@layouts/Base.astro";
import { getArticles, getCategories } from "../../lib/publicationParser.astro";

const sortedPosts = await getArticles();
const categories = await getCategories();
---

<Base title={"categories"}>
  <Shape />
  <section class="page-hero pb-14 pt-16">
    <div class="container">
      <PageHeader page_data={{ title: "CatÃ©gorie" }} />
    </div>
  </section>
  <section class="section">
    <div class="container">
      <BlogCategories categories={categories} />
      <Blogs posts={sortedPosts} />
    </div>
  </section>
</Base>
